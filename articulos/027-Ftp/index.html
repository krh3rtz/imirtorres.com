<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Pelican Static Site Generator, Powered by Python" />
    <meta name="description" content="En esta ocasión estaremos viendo los pasos de la instalación de un servidor FTP con el servicio VSFTPD.">
    <meta name="keywords" content="Linux, articulos">
    <meta name="author" content="EtherGroup">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="">
    <meta name="twitter:title" content="Instalación de un servidor FTP">
    <meta name="twitter:description" content="En esta ocasión estaremos viendo los pasos de la instalación de un servidor FTP con el servicio VSFTPD.">
    <meta name="twitter:image" content="/articulos/027-Ftp/preview1.png">
    <meta property="og:title" content="Instalación de un servidor FTP">
    <meta property="og:type" content="article">
    <meta property="og:url" content="/articulos/027-Ftp/">
    <meta property="og:image" content="/articulos/027-Ftp/preview1.png">
    <meta property="og:description" content="En esta ocasión estaremos viendo los pasos de la instalación de un servidor FTP con el servicio VSFTPD.">
    <meta property="og:site_name" content="Ethergroup | Blog">
    <title>Instalación de un servidor FTP - Ethergroup | Blog</title>
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
    <link rel="icon" href="/theme/images/icon-hires.png" sizes="192x192" />
    <link rel="icon" href="/theme/images/icon-normal.png" sizes="128x128" />
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png" />
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-76x76.png" sizes="76x76" />
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-120x120.png" sizes="120x120" />
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-152x152.png" sizes="152x152" />
    <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon-180x180.png" sizes="180x180" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/css/bootstrap.min.css" integrity="sha512-GQGU0fMMi238uA+a/bdWJfpUGKUkBdgfFdgBm72SUQ6BeyWjoY/ton0tEjH+OSH9iP4Dfh+7HM0I9f5eR0L/4w==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" integrity="sha512-1ycn6IcaQQ40/MKBW2W4Rhis/DbILU74C1vSrLJxCq57o941Ym01SwNsOMqvEBFlcgUa6xLiPY/NS5R+E6ztJQ==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Sans&display=swap" />
    <link rel="stylesheet" href="/theme/css/movimientolibre-bs5.css" />
</head>
<body>
<nav id="navigationBase" class="navbar navbar-expand-sm fixed-top">
    <div class="container">
        <a class="navbar-brand" href="/"><i class="fa fa-home"></i></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigationCollapse" aria-controls="navigationCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fas fa-bars"></span>
        </button>
        <div class="collapse navbar-collapse" id="navigationCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-sm-0">
                <li class="nav-item"><a class="nav-link" href="/authors.html">Autores</a></li>
                <li class="nav-item"><a class="nav-link" href="/tags.html">Etiquetas</a></li>
                <li class="nav-item"><a class="nav-link" href="https://ethergroup.mx/">EtherGroup</a></li>
            </ul>
            <ul class="navbar-nav">
                <li><a class="mx-2" href="https://www.instagram.com/ethergroup/" target="_blank"><i class="fab fa-instagram-square fa-2x"></i></a></li>
                <li><a class="mx-2" href="https://www.facebook.com/EtherGroup-184831138858274" target="_blank"><i class="fab fa-facebook-square fa-2x"></i></a></li>
                <li><a class="mx-2" href="https://www.linkedin.com/company/ethergroup" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a></li>
            </ul>
    </div>
    </div>
</nav><header id="headerSite" class="mb-4">
    <div id="headerSiteImage" class="container" itemscope itemtype="http://schema.org/Organization">
        <div class="row">
            <div class="col-xl-8">
                <h1 class="display-2" itemprop="name">Ethergroup | Blog</h1>
                <p class="lead" itemprop="description">Blog sobre tecnologías, hacking, ciberseguridad, software libre y mucho más</p>
            </div>
        </div>
    </div>
</header>    <div class="container">
        <div class="row">
            <div class="col-lg-8">
    <article>
        <script type="application/ld+json">
            {
                "@context": "http://schema.org",
                "@type": "Article",
                "publisher": {
                    "@type": "Organization",
                    "name": "Ethergroup | Blog",
                    "logo": {
                        "@type": "ImageObject",
                        "url": "/theme/images/ethergroup.png"
                    },
                    "url": ""
                },
                "author": "EtherGroup",
                "name": "Instalación de un servidor FTP",
                "headline": "Instalación de un servidor FTP",
                "description": "En esta ocasión estaremos viendo los pasos de la instalación de un servidor FTP con el servicio VSFTPD.",
                "dateCreated": "2022-08-16 10:00:00-05:00",
                "datePublished": "2022-08-16 10:00:00-05:00",
                "dateModified": "",
                "image": "/articulos/027-Ftp/preview1.png",
                "url": "/articulos/027-Ftp/"
            }
        </script>
        <h2>Instalación de un servidor FTP</h2>
        <p class="lead">En esta ocasión estaremos viendo los pasos de la instalación de un servidor FTP con el servicio VSFTPD.</p>
        <p>16 August 2022</p>
        <p><img class="img-fluid" src="027.png" alt="Foto 1"></p>
<hr>
<p>Aunque existen más opciones para compartir archivos, saber cómo implementarlo nos puede quitar dolores de cabeza. De igual forma agregaremos seguridad haciendo uso de certificados generados con OpenSSL.</p>
<p>Por sus siglas en inglés FTP: File Transfer Protocol (Protocolo de transferencia de archivos) es un servicio que nos permite compartir de forma muy sencilla información con un servidor. Estaremos configurando el servicio de FTP en distribuciones basadas en RedHat, en este caso será un sistema Alma Linux.</p>
<p>Primero realizaremos la instalación de los paquetes necesarios. Pueden hacer uso de
“dnf” si así lo requieren:</p>
<div class="highlight"><pre><span></span><code>yum update &amp;&amp; yum install -y vsftp ftp
</code></pre></div>

<p>Ahora modificaremos el archivo de configuración:</p>
<div class="highlight"><pre><span></span><code>vim /etc/vsftp/vsftp.conf

anonymous_enabled=NO
</code></pre></div>

<p>Descomentar dos líneas</p>
<div class="highlight"><pre><span></span><code><span class="n">ascii_upload_enabled</span><span class="o">=</span><span class="n">YES</span><span class="w"></span>

<span class="n">ascii_download_enabled</span><span class="o">=</span><span class="n">YES</span><span class="w"></span>
</code></pre></div>

<p>Modificar el banner</p>
<div class="highlight"><pre><span></span><code>ftpd_banner=Pues bienvenido
</code></pre></div>

<p>En ocasiones es necesario modificar el archivo vsftp.allowedusers
y agregar los usuarios permitidos   </p>
<p>Luego de esto es necesario reiniciar el servicio:</p>
<div class="highlight"><pre><span></span><code>systemctl restart vsftp
</code></pre></div>

<p>agregamos las reglas del firewall:</p>
<div class="highlight"><pre><span></span><code>iptables -A OUTPUT -p tcp -o enp0s8 --dport 21 -m state --state NEW,ESTABLISHED -j ACCEPT

iptables -A INPUT -p tcp -i enp0s8 --sport 21 -m state --state ESTABLISHED -j ACCEPT
</code></pre></div>

<p>Para realizar las pruebas, nos podemos conectar con el cliente de cmd de windows:</p>
<div class="highlight"><pre><span></span><code>ftp &lt;ip_vsftp_server&gt;
</code></pre></div>

<p>o desde el Filezilla</p>
<p><strong><em> Seguridad en la conexión por TLS </em></strong></p>
<p>Más información: <a href="https://webhostinggeeks.com/howto/setup-vsftpd-service-with-ssltls-on-linux/">https://webhostinggeeks.com/howto/setup-vsftpd-service-with-ssltls-on-linux/</a></p>
<p>Luego de haber realizado la instalación de VSFTPD, procedemos a generar la estructura de carpetas
correspondiente:</p>
<div class="highlight"><pre><span></span><code>mkdir -p /etc/vsftpd/ssl/private
</code></pre></div>

<p>Procederemos a generar tanto el certificado y la llave privada. Esto con la
herramienta openssl:</p>
<div class="highlight"><pre><span></span><code>openssl req -x509 -nodes -days 720 -newkey rsa:2048 -keyout /etc/vsftpd/ssl/private/vsftpd.key -out /etc/vsftpd/ssl/vsftpd.pem
</code></pre></div>

<p>Ahora asignamos los permisos 400 a dichos archivos</p>
<div class="highlight"><pre><span></span><code>chmod 400 /etc/vsftpd/ssl/vsftpd.pem

chmod 400 /etc/vsftpd/ssl/pem/vsftpd.key
</code></pre></div>

<p>Por último, agregamos los siguientes parámetros al archivo de configuración vsftpd.conf</p>
<div class="highlight"><pre><span></span><code>write_enable=YES

allow_writeable_chroot=YES
</code></pre></div>

<p>Más información: <a href="https://linuxhint.com/setup-vsftpd-ftp-server-on-debian10/">https://linuxhint.com/setup-vsftpd-ftp-server-on-debian10/</a></p>
<p>Lo mío</p>
<h1>Configuración para SSL/TLS</h1>
<div class="highlight"><pre><span></span><code>    ssl_enable=YES
    allow_anon_ssl=NO
    force_local_data_ssl=YES
    force_local_logins_ssl=YES
    ssl_tlsv1=YES
    ssl_sslv2=NO
    ssl_sslv3=NO
    rsa_cert_file=/etc/vsftpd/ssl/vsftpd.pem
    rsa_private_key_file=/etc/vsftpdssl/private/vsftpd.key
</code></pre></div>

<p>Lo del sitio</p>
<h1>Add follows to the bottom</h1>
<div class="highlight"><pre><span></span><code>    ssl_enable=YES
    allow_anon_ssl=NO
    force_local_data_ssl=YES
    force_local_logins_ssl=YES

    ssl_tlsv1=YES
    ssl_sslv2=NO
    ssl_sslv3=NO
    rsa_cert_file=/etc/vsftpd/ssl/vsftpd.pem
    rsa_private_key_file=/etc/vsftpd/ssl/private/vsftpd.key
</code></pre></div>

<p>Al terminar, reiniciamos los servicios de vsftpd:</p>
<div class="highlight"><pre><span></span><code>systemctl restart vsftpd
</code></pre></div>

<p>Listo. Es necesario hacer una prueba de conexión desde un cliente FTP (FileZilla)</p>
<p>Link al capítulo del curso de servidores: <a href="https://youtu.be/PS4AXOazODk">https://youtu.be/PS4AXOazODk</a></p>
<p><em>Happy hacking</em></p>
    </article>
            </div>
            <div class="col-lg-4">
                <aside>
<div id="asideAbout" class="card border-0">
    <div class="card-body">
        <h3 class="card-title mt-0">A cerca de EtherGroup</h3>
        <p class="card-text">
            Ethergroup es una empresa mexicana dedicada 
            a proveer servicios integrales en tecnologías
            de Información. Lideramos la transformación 
            tecnológica de nuestros clientes paso a paso, 
            de forma segura y fungimos como impulso a su 
            negocio en esta era digital.
            <br> <br>
            En Ethergroup nos encanta compartir 
            contenido te dejamos este espacio, 
            que busca divulgar conocimiento de 
            diferentes áreas.
        </p>
    </div>
</div><div id="asideTags" class="card border-0">
    <div class="card-body">
        <h3 class="card-title mt-0">Etiquetas</h3>
        <ul class="list-group list-group-flush">
<li class="list-group-item"><a href="/tag/ciberataque.html">Ciberataque</a></li><li class="list-group-item"><a href="/tag/ciberataques.html">Ciberataques</a></li><li class="list-group-item"><a href="/tag/ciberseguridad.html">Ciberseguridad</a></li><li class="list-group-item"><a href="/tag/hacking.html">Hacking</a></li><li class="list-group-item"><a href="/tag/linux.html">Linux</a></li><li class="list-group-item"><a href="/tag/malware.html">Malware</a></li><li class="list-group-item"><a href="/tag/programacion.html">Programación</a></li><li class="list-group-item"><a href="/tag/ransomware.html">Ransomware</a></li><li class="list-group-item"><a href="/tag/servidores.html">Servidores</a></li><li class="list-group-item"><a href="/tag/vulnerabilidad.html">Vulnerabilidad</a></li>        </ul>
    </div>
</div>                </aside>
            </div>
        </div>
    </div>
<footer class="text-muted">
    <div class="container">
        <p>
            Copyright &copy; Ethergroup 2021 | Cybersecurity E-group S. de R.L. de C.V. Sitio web de la empresa Ethergroup.
            Sitio web de la empresa <a href="https://ethergroup.mx/">EtherGroup.</a> 
        </p>
    </div>
</footer>    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.1.3/js/bootstrap.min.js" integrity="sha512-OvBgP9A2JBgiRad/mM36mkzXSXaJE9BEIENnVEmeZdITvwT09xnxLtT4twkCa8m/loMbPHsvPl0T8lRGVBwjlQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/theme/js/navigation.js"></script>
</body>
</html>